(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=l(e);fetch(e.href,s)}})();const c="#66666E",d="#258EA6",u=document.querySelector(".year"),y=document.querySelector(".fcf"),m=document.querySelector(".fcf-conversion"),g=document.querySelector(".capex-ratio");fetch("./cashflow.json").then(t=>t.json()).then(t=>{const o=t.map(a=>a.year),l=t.map(a=>a.operating_cashflow),n=t.map(a=>a.capex),e=t.map(a=>a.free_cashflow),s=t.map(a=>a.fcf_conversion);C(o,e,s,n,l),h(o,l,n,e,s)});function h(t,o,l,n,e){Chart.defaults.font.family="Geist, system-ui, sans-serif",Chart.defaults.font.size=11,Chart.defaults.color="#000",new Chart(document.getElementById("cashflowChart"),{type:"line",data:{labels:t,datasets:[{label:"Operating Cashflow",data:o,borderColor:`${c}`,tension:.3},{label:"Free Cashflow",data:n,borderColor:`${d}`,tension:.3}]},options:{borderWidth:2,pointStyle:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:6}},y:{display:!0,ticks:{display:!1},border:{display:!1},grid:{display:!1}}}}}),new Chart(document.getElementById("capexChart"),{type:"bar",data:{labels:t,datasets:[{label:"Operating Cashflow",data:o,backgroundColor:`${c}`,barThickness:8},{label:"CapEx",data:l,backgroundColor:`${d}`,barThickness:8}]},options:{plugins:{legend:{display:!1}},scales:{y:{display:!0,ticks:{display:!1},border:{display:!1},grid:{drawBorder:!1,color:s=>s.tick.value===0?"#e5e7eb":"transparent",lineWidth:s=>s.tick.value===0?1:0}},x:{grid:{display:!1},ticks:{maxTicksLimit:6}}}}}),new Chart(document.getElementById("marginChart"),{type:"line",data:{labels:t,datasets:[{label:"FCF Margin",data:e,borderColor:`${c}`,tension:.3,fill:!1}]},options:{pointStyle:!1,borderWidth:2,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:6}},y:{display:!0,ticks:{display:!1},border:{display:!1},suggestedMin:.5,suggestedMax:.85,grid:{display:!1}}}}})}function C(t,o,l,n,e){u.textContent=`Key Metrics ${r(t)}`,y.textContent=`${Math.round(r(o)/1e3)} bn â‚¬`,m.textContent=`${(r(l)*100).toFixed(0)} %`,g.textContent=`${(r(n)/r(e)*100).toFixed(0)} %`}function r(t){return t[t.length-1]}const b=document.getElementById("openDetails"),x=document.getElementById("closeDetails"),i=document.getElementById("detailsModal"),f=document.getElementById("detailsContent");function L(){i.classList.remove("opacity-0","pointer-events-none"),f.classList.remove("translate-y-4","scale-95")}function p(){i.classList.add("opacity-0","pointer-events-none"),f.classList.add("translate-y-4","scale-95")}b.addEventListener("click",L);x.addEventListener("click",p);i.addEventListener("click",t=>{t.target===i&&p()});
